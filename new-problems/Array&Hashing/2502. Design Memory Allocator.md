# 2502. Design Memory Allocator

**LeetCode:** {https://docs.google.com/spreadsheets/d/1y2_caSRVQMWW6mlkjRhdYtLMYOVIjVzPNHX2FHdDgxs/edit?pli=1&gid=1142123535#gid=1142123535}  
**Date:** {2026-01-21}  
**Status:** âŒ Stuck / ðŸ” Redo  
**Difficulty:** Medium  
**Tags/Pattern:** {Arrays, Hashing}  
**Time/Space:** O(n) / O(n)

---

## 1) Problem in 1 line

The problem is to **simulate a simple memory allocator** that assigns contiguous free blocks to requests and frees all blocks associated with a given memory ID.

Explain the problem in one sentence.

---

## 2) My first thought (before coding)

did not try on own but understood the problem
What I tried first, and why.

---

## 3) Mistakes / Confusions (Error Notebook í•µì‹¬)

- Mistake #1:
- Mistake #2:
- What I learned:
- learned that memory can be modeled as an array, where each index represents a block that is either free or assigned to an ID.
- learned how to scan for consecutive free blocks to allocate memory contiguously.
- learned how to free memory by traversing and resetting all blocks belonging to a given ID.

---

## 4) Final approach (in plain English)

Think of memory as a long row of boxes.
First, you walk through the boxes counting empty ones in a row until you find enough space for the request.
When you find that space, you label those boxes with the given ID and return where you started.
If youâ€™re freeing memory, you walk through all the boxes and erase the labels that match the given ID.
Steps of the solution like youâ€™d explain to a friend.

---

## 5) Code (final)

```python
class Allocator:
    def __init__(self, n: int):
        self.blocks=[-1]*n
        self.n=n
    def allocate(self, size: int, mID: int) -> int:
        available=0
        for i in range(self.n):
            if self.blocks[i]==-1: #available
                available+=1
            else:
                available=0
            if available==size: #can allocate now
                for j in range(i-available+1, i+1): #loop to end at i
                    self.blocks[j]=mID
                return i-available+1 #return start of the block
        return -1 #cant find size to allocate
    def freeMemory(self, mID: int) -> int:
        count=0
        for i in range(self.n):
            if self.blocks[i]==mID:
                self.blocks[i]=-1
                count+=1
        return count

# Your Allocator object will be instantiated and called as such:
# obj = Allocator(n)
# param_1 = obj.allocate(size,mID)
# param_2 = obj.freeMemory(mID)
# paste final accepted code here
```
